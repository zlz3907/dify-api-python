<div class="bg-white grow overflow-hidden"><div class="relative flex flex-col h-full overflow-hidden"><div class="flex items-center justify-between flex-shrink-0 px-6 border-b border-solid py-2 border-b-gray-100"><div class="text-lg font-medium text-gray-900"></div><div class="flex items-center flex-wrap gap-y-1"><div class="flex rounded-lg bg-gray-50 hover:bg-gray-50 py-2 items-center flex-shrink-0 mr-1 w-52 sm:w-80"><div class="flex items-center flex-grow h-5"><div class="ml-2 border border-gray-200 border-solid flex-shrink-0 px-2 py-0.5 rounded-[6px] text-gray-500 text-[0.625rem] style_customApi__VNyIB">API 服务器</div><div class="flex-grow bg-gray-50 text-[13px] relative h-full"><div class="absolute top-0 left-0 w-full pl-2 pr-2 truncate cursor-pointer r-0"><div class="inline-block" data-state="closed">http://wf.zhycit.com/v1</div></div></div><div class="flex-shrink-0 h-4 bg-gray-200 border"></div><div class="px-0.5 flex-shrink-0" data-state="closed"><div class="box-border w-[30px] h-[30px] flex items-center justify-center rounded-lg hover:bg-gray-100 cursor-pointer style_copyIcon__699xb "></div></div></div></div><div class="flex items-center h-9 px-3 rounded-lg 
                        text-[13px] font-normal  mr-2 text-green-500 bg-green-50"><div class="mr-1">状态</div><div class="font-semibold">运行中</div></div><button type="button" class="btn disabled:btn-disabled btn-secondary btn-medium px-3 flex-shrink-0"><div class="flex items-center justify-center w-4 h-4 mr-2"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9 3.66672C9.35362 3.66672 9.69276 3.80719 9.94281 4.05724C10.1929 4.30729 10.3333 4.64643 10.3333 5.00005M13 5.00005C13.0002 5.62483 12.854 6.24097 12.5732 6.79908C12.2924 7.3572 11.8847 7.84177 11.3829 8.21397C10.8811 8.58617 10.2991 8.83564 9.68347 8.94239C9.06788 9.04915 8.43584 9.01022 7.838 8.82872L6.33333 10.3334H5V11.6667H3.66667V13.0001H1.66667C1.48986 13.0001 1.32029 12.9298 1.19526 12.8048C1.07024 12.6798 1 12.5102 1 12.3334V10.6094C1.00004 10.4326 1.0703 10.263 1.19533 10.1381L5.17133 6.16205C5.00497 5.61206 4.95904 5.03268 5.0367 4.46335C5.11435 3.89402 5.31375 3.3481 5.62133 2.86275C5.92891 2.3774 6.33744 1.96401 6.81913 1.65073C7.30082 1.33745 7.84434 1.13162 8.41272 1.04725C8.9811 0.96289 9.56098 1.00197 10.1129 1.16184C10.6648 1.32171 11.1758 1.59861 11.6111 1.97369C12.0464 2.34878 12.3958 2.81324 12.6354 3.33548C12.8751 3.85771 12.9994 4.42545 13 5.00005Z" stroke="#1F2A37" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div class="text-[13px] text-gray-800 undefined">API 密钥</div></button></div></div><div class="px-4 sm:px-10 py-4 overflow-auto grow"><article class="prose prose-xl"><h1>对话型应用 API</h1>
<p>对话应用支持会话持久化，可将之前的聊天记录作为上下进行回答，可适用于聊天/客服 AI 等。</p>
<div><h3>基础 URL</h3><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Code</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">http://wf.zhycit.com/v1</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><h3>鉴权</h3><p>Service API 使用 <code>API-Key</code> 进行鉴权。
<i><strong>强烈建议开发者把 <code>API-Key</code> 放在后端存储，而非分享或者放在客户端存储，以免 <code>API-Key</code> 泄露，导致财产损失。</strong></i>
所有 API 请求都应在 <strong><code>Authorization</code></strong> HTTP Header 中包含您的 <code>API-Key</code>，如下所示：</p><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Code</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-javascript">  Authorization: Bearer {API_KEY}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-sky-300 bg-sky-400/10 text-sky-500 dark:ring-sky-400/30 dark:bg-sky-400/10 dark:text-sky-400">POST</span><span class="font-mono text-xs text-zinc-400">/chat-messages</span></div><h2 class="mt-2 scroll-mt-32"><a href="#Create-Chat-Message" class="no-underline group text-inherit hover:text-inherit">发送对话消息</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>创建会话消息。</p><h3>Request Body</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>query</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户输入/提问内容。</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>inputs</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">object</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>允许传入 App 定义的各变量值。
inputs 参数包含了多组键值对（Key/Value pairs），每组的键对应一个特定变量，每组的值则是该变量的具体值。
默认 <code>{}</code></p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>response_mode</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><ul>
<li><code>streaming</code> 流式模式（推荐）。基于 SSE（<strong><a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events/Using_server-sent_events">Server-Sent Events</a></strong>）实现类似打字机输出方式的流式返回。</li>
<li><code>blocking</code> 阻塞模式，等待执行完毕后返回结果。（请求若流程较长可能会被中断）。
<i>由于 Cloudflare 限制，请求会在 100 秒超时无返回后中断。</i>
注：Agent模式下不允许blocking。</li>
</ul></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，用于定义终端用户的身份，方便检索、统计。
由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>conversation_id</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>（选填）会话 ID，需要基于之前的聊天记录继续对话，必须传之前消息的 conversation_id。</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>files</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">array[object]</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>上传的文件。</p><ul>
<li><code>type</code> (string) 支持类型：图片 <code>image</code>（目前仅支持图片格式） 。</li>
<li><code>transfer_method</code> (string)  传递方式:
<ul>
<li><code>remote_url</code>: 图片地址。</li>
<li><code>local_file</code>: 上传文件。</li>
</ul>
</li>
<li><code>url</code> 图片地址。（仅当传递方式为 <code>remote_url</code> 时）。</li>
<li><code>upload_file_id</code> 上传文件 ID。（仅当传递方式为 <code>local_file </code>时）。</li>
</ul></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>auto_generate_name</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">bool</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>（选填）自动生成标题，默认 <code>true</code>。 若设置为 <code>false</code>，则可通过调用会话重命名接口并设置 <code>auto_generate</code> 为 <code>true</code> 实现异步生成标题。</p></dd></dl></li></ul></div><h3>Response</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><p>当 <code>response_mode</code> 为 <code>blocking</code> 时，返回 ChatCompletionResponse object。
当 <code>response_mode</code> 为 <code>streaming</code>时，返回 ChunkChatCompletionResponse object 流式序列。</p><h3>ChatCompletionResponse</h3><p>返回完整的 App 结果，<code>Content-Type</code> 为 <code>application/json</code>。</p><ul>
<li><code>message_id</code> (string) 消息唯一 ID</li>
<li><code>conversation_id</code> (string) 会话 ID</li>
<li><code>mode</code> (string) App 模式，固定为 chat</li>
<li><code>answer</code> (string) 完整回复内容</li>
<li><code>metadata</code> (object) 元数据
<ul>
<li><code>usage</code> (Usage) 模型用量信息</li>
<li><code>retriever_resources</code> (array[RetrieverResource]) 引用和归属分段列表</li>
</ul>
</li>
<li><code>created_at</code> (int) 消息创建时间戳，如：1705395332</li>
</ul><h3>ChunkChatCompletionResponse</h3><p>返回 App 输出的流式块，<code>Content-Type</code> 为 <code>text/event-stream</code>。
每个流式块均为 data: 开头，块之间以 \n\n 即两个换行符分隔，如下所示：</p><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-streaming">data: {"event": "message", "task_id": "900bbd43-dc0b-4383-a372-aa6e6c414227", "id": "663c5084-a254-4040-8ad3-51f2a3c1a77c", "answer": "Hi", "created_at": 1705398420}\n\n
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><p>流式块中根据 event 不同，结构也不同：</p><ul>
<li><code>event: message</code> LLM 返回文本块事件，即：完整的文本以分块的方式输出。
<ul>
<li><code>task_id</code> (string) 任务 ID，用于请求跟踪和下方的停止响应接口</li>
<li><code>message_id</code> (string) 消息唯一 ID</li>
<li><code>conversation_id</code> (string) 会话 ID</li>
<li><code>answer</code> (string) LLM 返回文本块内容</li>
<li><code>created_at</code> (int) 创建时间戳，如：1705395332</li>
</ul>
</li>
<li><code>event: agent_message</code> Agent模式下返回文本块事件，即：在Agent模式下，文章的文本以分块的方式输出（仅Agent模式下使用）
<ul>
<li><code>task_id</code> (string) 任务 ID，用于请求跟踪和下方的停止响应接口</li>
<li><code>message_id</code> (string) 消息唯一 ID</li>
<li><code>conversation_id</code> (string) 会话 ID</li>
<li><code>answer</code> (string) LLM 返回文本块内容</li>
<li><code>created_at</code> (int) 创建时间戳，如：1705395332</li>
</ul>
</li>
<li><code>event: agent_thought</code> Agent模式下有关Agent思考步骤的相关内容，涉及到工具调用（仅Agent模式下使用）
<ul>
<li><code>id</code> (string) agent_thought ID，每一轮Agent迭代都会有一个唯一的id</li>
<li><code>task_id</code> (string) 任务ID，用于请求跟踪下方的停止响应接口</li>
<li><code>message_id</code> (string) 消息唯一ID</li>
<li><code>position</code> (int) agent_thought在消息中的位置，如第一轮迭代position为1</li>
<li><code>thought</code> (string) agent的思考内容</li>
<li><code>observation</code> (string) 工具调用的返回结果</li>
<li><code>tool</code> (string) 使用的工具列表，以 ; 分割多个工具</li>
<li><code>tool_input</code> (string) 工具的输入，JSON格式的字符串(object)。如：<code>{"dalle3": {"prompt": "a cute cat"}}</code></li>
<li><code>created_at</code> (int) 创建时间戳，如：1705395332</li>
<li><code>message_files</code> (array[string])  当前 <code>agent_thought</code> 关联的文件ID
<ul>
<li><code>file_id</code> (string) 文件ID</li>
</ul>
</li>
<li><code>conversation_id</code> (string) 会话ID</li>
</ul>
</li>
<li><code>event: message_file</code> 文件事件，表示有新文件需要展示
<ul>
<li><code>id</code> (string) 文件唯一ID</li>
<li><code>type</code> (string) 文件类型，目前仅为image</li>
<li><code>belongs_to</code> (string) 文件归属，user或assistant，该接口返回仅为 <code>assistant</code></li>
<li><code>url</code> (string) 文件访问地址</li>
<li><code>conversation_id</code>  (string) 会话ID</li>
</ul>
</li>
<li><code>event: message_end</code> 消息结束事件，收到此事件则代表流式返回结束。
<ul>
<li><code>task_id</code> (string) 任务 ID，用于请求跟踪和下方的停止响应接口</li>
<li><code>message_id</code> (string) 消息唯一 ID</li>
<li><code>conversation_id</code> (string) 会话 ID</li>
<li><code>metadata</code> (object) 元数据
<ul>
<li><code>usage</code> (Usage) 模型用量信息</li>
<li><code>retriever_resources</code> (array[RetrieverResource]) 引用和归属分段列表</li>
</ul>
</li>
</ul>
</li>
<li><code>event: tts_message</code> TTS 音频流事件，即：语音合成输出。内容是Mp3格式的音频块，使用 base64 编码后的字符串，播放的时候直接解码即可。(开启自动播放才有此消息)
<ul>
<li><code>task_id</code> (string) 任务 ID，用于请求跟踪和下方的停止响应接口</li>
<li><code>message_id</code> (string) 消息唯一 ID</li>
<li><code>audio</code> (string) 语音合成之后的音频块使用 Base64 编码之后的文本内容，播放的时候直接 base64 解码送入播放器即可</li>
<li><code>created_at</code> (int) 创建时间戳，如：1705395332</li>
</ul>
</li>
<li><code>event: tts_message_end</code> TTS 音频流结束事件，收到这个事件表示音频流返回结束。
<ul>
<li><code>task_id</code> (string) 任务 ID，用于请求跟踪和下方的停止响应接口</li>
<li><code>message_id</code> (string) 消息唯一 ID</li>
<li><code>audio</code> (string) 结束事件是没有音频的，所以这里是空字符串</li>
<li><code>created_at</code> (int) 创建时间戳，如：1705395332</li>
</ul>
</li>
<li><code>event: message_replace</code> 消息内容替换事件。
开启内容审查和审查输出内容时，若命中了审查条件，则会通过此事件替换消息内容为预设回复。
<ul>
<li><code>task_id</code> (string) 任务 ID，用于请求跟踪和下方的停止响应接口</li>
<li><code>message_id</code> (string) 消息唯一 ID</li>
<li><code>conversation_id</code> (string) 会话 ID</li>
<li><code>answer</code> (string) 替换内容（直接替换 LLM 所有回复文本）</li>
<li><code>created_at</code> (int) 创建时间戳，如：1705395332</li>
</ul>
</li>
<li><code>event: error</code>
流式输出过程中出现的异常会以 stream event 形式输出，收到异常事件后即结束。
<ul>
<li><code>task_id</code> (string) 任务 ID，用于请求跟踪和下方的停止响应接口</li>
<li><code>message_id</code> (string) 消息唯一 ID</li>
<li><code>status</code> (int) HTTP 状态码</li>
<li><code>code</code> (string) 错误码</li>
<li><code>message</code> (string) 错误消息</li>
</ul>
</li>
<li><code>event: ping</code> 每 10s 一次的 ping 事件，保持连接存活。</li>
</ul><h3>Errors</h3><ul>
<li>404，对话不存在</li>
<li>400，<code>invalid_param</code>，传入参数异常</li>
<li>400，<code>app_unavailable</code>，App 配置不可用</li>
<li>400，<code>provider_not_initialize</code>，无可用模型凭据配置</li>
<li>400，<code>provider_quota_exceeded</code>，模型调用额度不足</li>
<li>400，<code>model_currently_not_support</code>，当前模型不可用</li>
<li>400，<code>completion_request_error</code>，文本生成失败</li>
<li>500，服务内部异常</li>
</ul></ul></div></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-sky-500">POST</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/chat-messages</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X POST 'http://wf.zhycit.com/v1/chat-messages' \
--header 'Authorization: Bearer {api_key}' \
--header 'Content-Type: application/json' \
--data-raw '{
    "inputs": {},
    "query": "What are the specs of the iPhone 13 Pro Max?",
    "response_mode": "streaming",
    "conversation_id": "",
    "user": "abc-123",
    "files": [
      {
        "type": "image",
        "transfer_method": "remote_url",
        "url": "https://cloud.dify.ai/logo/logo-site.png"
      }
    ]
}'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><h3>阻塞模式</h3><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
    "event": "message",
    "message_id": "9da23599-e713-473b-982c-4328d4f5c78a",
    "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2",
    "mode": "chat",
    "answer": "iPhone 13 Pro Max specs are listed here:...",
    "metadata": {
        "usage": {
            "prompt_tokens": 1033,
            "prompt_unit_price": "0.001",
            "prompt_price_unit": "0.001",
            "prompt_price": "0.0010330",
            "completion_tokens": 128,
            "completion_unit_price": "0.002",
            "completion_price_unit": "0.001",
            "completion_price": "0.0002560",
            "total_tokens": 1161,
            "total_price": "0.0012890",
            "currency": "USD",
            "latency": 0.7682376249867957
        },
        "retriever_resources": [
            {
                "position": 1,
                "dataset_id": "101b4c97-fc2e-463c-90b1-5261a4cdcafb",
                "dataset_name": "iPhone",
                "document_id": "8dd1ad74-0b5f-4175-b735-7d98bbbb4e00",
                "document_name": "iPhone List",
                "segment_id": "ed599c7f-2766-4294-9d1d-e5235a61270a",
                "score": 0.98457545,
                "content": "\"Model\",\"Release Date\",\"Display Size\",\"Resolution\",\"Processor\",\"RAM\",\"Storage\",\"Camera\",\"Battery\",\"Operating System\"\n\"iPhone 13 Pro Max\",\"September 24, 2021\",\"6.7 inch\",\"1284 x 2778\",\"Hexa-core (2x3.23 GHz Avalanche + 4x1.82 GHz Blizzard)\",\"6 GB\",\"128, 256, 512 GB, 1TB\",\"12 MP\",\"4352 mAh\",\"iOS 15\""
            }
        ]
    },
    "created_at": 1705407629
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><h3>流式模式（基础助手）</h3><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-streaming">  data: {"event": "message", "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " I", "created_at": 1679586595}
  data: {"event": "message", "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": "'m", "created_at": 1679586595}
  data: {"event": "message", "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " glad", "created_at": 1679586595}
  data: {"event": "message", "message_id": "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " to", "created_at": 1679586595}
  data: {"event": "message", "message_id": : "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " meet", "created_at": 1679586595}
  data: {"event": "message", "message_id": : "5ad4cb98-f0c7-4085-b384-88c403be6290", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "answer": " you", "created_at": 1679586595}
  data: {"event": "message_end", "id": "5e52ce04-874b-4d27-9045-b3bc80def685", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "metadata": {"usage": {"prompt_tokens": 1033, "prompt_unit_price": "0.001", "prompt_price_unit": "0.001", "prompt_price": "0.0010330", "completion_tokens": 135, "completion_unit_price": "0.002", "completion_price_unit": "0.001", "completion_price": "0.0002700", "total_tokens": 1168, "total_price": "0.0013030", "currency": "USD", "latency": 1.381760165997548}, "retriever_resources": [{"position": 1, "dataset_id": "101b4c97-fc2e-463c-90b1-5261a4cdcafb", "dataset_name": "iPhone", "document_id": "8dd1ad74-0b5f-4175-b735-7d98bbbb4e00", "document_name": "iPhone List", "segment_id": "ed599c7f-2766-4294-9d1d-e5235a61270a", "score": 0.98457545, "content": "\"Model\",\"Release Date\",\"Display Size\",\"Resolution\",\"Processor\",\"RAM\",\"Storage\",\"Camera\",\"Battery\",\"Operating System\"\n\"iPhone 13 Pro Max\",\"September 24, 2021\",\"6.7 inch\",\"1284 x 2778\",\"Hexa-core (2x3.23 GHz Avalanche + 4x1.82 GHz Blizzard)\",\"6 GB\",\"128, 256, 512 GB, 1TB\",\"12 MP\",\"4352 mAh\",\"iOS 15\""}]}}
  data: {"event": "tts_message", "conversation_id": "23dd85f3-1a41-4ea0-b7a9-062734ccfaf9", "message_id": "a8bdc41c-13b2-4c18-bfd9-054b9803038c", "created_at": 1721205487, "task_id": "3bf8a0bb-e73b-4690-9e66-4e429bad8ee7", "audio": "qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"}
  data: {"event": "tts_message_end", "conversation_id": "23dd85f3-1a41-4ea0-b7a9-062734ccfaf9", "message_id": "a8bdc41c-13b2-4c18-bfd9-054b9803038c", "created_at": 1721205487, "task_id": "3bf8a0bb-e73b-4690-9e66-4e429bad8ee7", "audio": ""}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><h3>流式模式（智能助手）</h3><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-streaming">  data: {"event": "agent_thought", "id": "8dcf3648-fbad-407a-85dd-73a6f43aeb9f", "task_id": "9cf1ddd7-f94b-459b-b942-b77b26c59e9b", "message_id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "position": 1, "thought": "", "observation": "", "tool": "", "tool_input": "", "created_at": 1705639511, "message_files": [], "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "agent_thought", "id": "8dcf3648-fbad-407a-85dd-73a6f43aeb9f", "task_id": "9cf1ddd7-f94b-459b-b942-b77b26c59e9b", "message_id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "position": 1, "thought": "", "observation": "", "tool": "dalle3", "tool_input": "{\"dalle3\": {\"prompt\": \"cute Japanese anime girl with white hair, blue eyes, bunny girl suit\"}}", "created_at": 1705639511, "message_files": [], "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "message_file", "id": "d75b7a5c-ce5e-442e-ab1b-d6a5e5b557b0", "type": "image", "belongs_to": "assistant", "url": "http://127.0.0.1:5001/files/tools/d75b7a5c-ce5e-442e-ab1b-d6a5e5b557b0.png?timestamp=1705639526&amp;nonce=70423256c60da73a9c96d1385ff78487&amp;sign=7B5fKV9890YJuqchQvrABvW4AIupDvDvxGdu1EOJT94=", "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "agent_thought", "id": "8dcf3648-fbad-407a-85dd-73a6f43aeb9f", "task_id": "9cf1ddd7-f94b-459b-b942-b77b26c59e9b", "message_id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "position": 1, "thought": "", "observation": "image has been created and sent to user already, you should tell user to check it now.", "tool": "dalle3", "tool_input": "{\"dalle3\": {\"prompt\": \"cute Japanese anime girl with white hair, blue eyes, bunny girl suit\"}}", "created_at": 1705639511, "message_files": ["d75b7a5c-ce5e-442e-ab1b-d6a5e5b557b0"], "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "agent_thought", "id": "67a99dc1-4f82-42d3-b354-18d4594840c8", "task_id": "9cf1ddd7-f94b-459b-b942-b77b26c59e9b", "message_id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "position": 2, "thought": "", "observation": "", "tool": "", "tool_input": "", "created_at": 1705639511, "message_files": [], "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "agent_message", "id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "task_id": "9cf1ddd7-f94b-459b-b942-b77b26c59e9b", "message_id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "answer": "I have created an image of a cute Japanese", "created_at": 1705639511, "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "agent_message", "id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "task_id": "9cf1ddd7-f94b-459b-b942-b77b26c59e9b", "message_id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "answer": " anime girl with white hair and blue", "created_at": 1705639511, "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "agent_message", "id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "task_id": "9cf1ddd7-f94b-459b-b942-b77b26c59e9b", "message_id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "answer": " eyes wearing a bunny girl" ,"created_at": 1705639511, "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "agent_message", "id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "task_id": "9cf1ddd7-f94b-459b-b942-b77b26c59e9b", "message_id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "answer": " suit .", "created_at": 1705639511, "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "agent_thought", "id": "67a99dc1-4f82-42d3-b354-18d4594840c8", "task_id": "9cf1ddd7-f94b-459b-b942-b77b26c59e9b", "message_id": "1fb10045-55fd-4040-99e6-d048d07cbad3", "position": 2, "thought": "I have created an image of a cute Japanese anime girl with white hair and blue eyes wearing a bunny girl suit.", "observation": "", "tool": "", "tool_input": "", "created_at": 1705639511, "message_files": [], "conversation_id": "c216c595-2d89-438c-b33c-aae5ddddd142"}
  data: {"event": "message_end", "id": "5e52ce04-874b-4d27-9045-b3bc80def685", "conversation_id": "45701982-8118-4bc5-8e9b-64562b4555f2", "metadata": {"usage": {"prompt_tokens": 1033, "prompt_unit_price": "0.001", "prompt_price_unit": "0.001", "prompt_price": "0.0010330", "completion_tokens": 135, "completion_unit_price": "0.002", "completion_price_unit": "0.001", "completion_price": "0.0002700", "total_tokens": 1168, "total_price": "0.0013030", "currency": "USD", "latency": 1.381760165997548}, "retriever_resources": [{"position": 1, "dataset_id": "101b4c97-fc2e-463c-90b1-5261a4cdcafb", "dataset_name": "iPhone", "document_id": "8dd1ad74-0b5f-4175-b735-7d98bbbb4e00", "document_name": "iPhone List", "segment_id": "ed599c7f-2766-4294-9d1d-e5235a61270a", "score": 0.98457545, "content": "\"Model\",\"Release Date\",\"Display Size\",\"Resolution\",\"Processor\",\"RAM\",\"Storage\",\"Camera\",\"Battery\",\"Operating System\"\n\"iPhone 13 Pro Max\",\"September 24, 2021\",\"6.7 inch\",\"1284 x 2778\",\"Hexa-core (2x3.23 GHz Avalanche + 4x1.82 GHz Blizzard)\",\"6 GB\",\"128, 256, 512 GB, 1TB\",\"12 MP\",\"4352 mAh\",\"iOS 15\""}]}}
  data: {"event": "tts_message", "conversation_id": "23dd85f3-1a41-4ea0-b7a9-062734ccfaf9", "message_id": "a8bdc41c-13b2-4c18-bfd9-054b9803038c", "created_at": 1721205487, "task_id": "3bf8a0bb-e73b-4690-9e66-4e429bad8ee7", "audio": "qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"}
  data: {"event": "tts_message_end", "conversation_id": "23dd85f3-1a41-4ea0-b7a9-062734ccfaf9", "message_id": "a8bdc41c-13b2-4c18-bfd9-054b9803038c", "created_at": 1721205487, "task_id": "3bf8a0bb-e73b-4690-9e66-4e429bad8ee7", "audio": ""}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-sky-300 bg-sky-400/10 text-sky-500 dark:ring-sky-400/30 dark:bg-sky-400/10 dark:text-sky-400">POST</span><span class="font-mono text-xs text-zinc-400">/files/upload</span></div><h2 class="mt-2 scroll-mt-32"><a href="#files-upload" class="no-underline group text-inherit hover:text-inherit">上传文件</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>上传文件（目前仅支持图片）并在发送消息时使用，可实现图文多模态理解。
支持 png, jpg, jpeg, webp, gif 格式。
<i>上传的文件仅供当前终端用户使用。</i></p><h3>Request Body</h3><p>该接口需使用  <code>multipart/form-data</code> 进行请求。</p><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>file</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">file</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>要上传的文件。</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，用于定义终端用户的身份，必须和发送消息接口传入 user 保持一致。</p></dd></dl></li></ul></div><h3>Response</h3><p>成功上传后，服务器会返回文件的 ID 和相关信息。</p><ul>
<li><code>id</code> (uuid) ID</li>
<li><code>name</code> (string) 文件名</li>
<li><code>size</code> (int) 文件大小（byte）</li>
<li><code>extension</code> (string) 文件后缀</li>
<li><code>mime_type</code> (string) 文件 mime-type</li>
<li><code>created_by</code> (uuid) 上传人 ID</li>
<li><code>created_at</code> (timestamp) 上传时间</li>
</ul><h3>Errors</h3><ul>
<li>400，<code>no_file_uploaded</code>，必须提供文件</li>
<li>400，<code>too_many_files</code>，目前只接受一个文件</li>
<li>400，<code>unsupported_preview</code>，该文件不支持预览</li>
<li>400，<code>unsupported_estimate</code>，该文件不支持估算</li>
<li>413，<code>file_too_large</code>，文件太大</li>
<li>415，<code>unsupported_file_type</code>，不支持的扩展名，当前只接受文档类文件</li>
<li>503，<code>s3_connection_failed</code>，无法连接到 S3 服务</li>
<li>503，<code>s3_permission_denied</code>，无权限上传文件到 S3</li>
<li>503，<code>s3_file_too_large</code>，文件超出 S3 大小限制</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-sky-500">POST</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/files/upload</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X POST 'http://wf.zhycit.com/v1/files/upload' \
--header 'Authorization: Bearer {api_key}' \
--form 'file=@localfile;type=image/[png|jpeg|jpg|webp|gif] \
--form 'user=abc-123'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "id": "72fa9618-8f89-4a37-9b33-7e1178a24a67",
  "name": "example.png",
  "size": 1024,
  "extension": "png",
  "mime_type": "image/png",
  "created_by": 123,
  "created_at": 1577836800,
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-sky-300 bg-sky-400/10 text-sky-500 dark:ring-sky-400/30 dark:bg-sky-400/10 dark:text-sky-400">POST</span><span class="font-mono text-xs text-zinc-400">/chat-messages/:task_id/stop</span></div><h2 class="mt-2 scroll-mt-32"><a href="#Stop" class="no-underline group text-inherit hover:text-inherit">停止响应</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>仅支持流式模式。</p><h3>Path</h3><ul>
<li><code>task_id</code> (string) 任务 ID，可在流式返回 Chunk 中获取</li>
</ul><h3>Request Body</h3><ul>
<li><code>user</code> (string) Required
用户标识，用于定义终端用户的身份，必须和发送消息接口传入 user 保持一致。</li>
</ul><h3>Response</h3><ul>
<li><code>result</code> (string) 固定返回 success</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-sky-500">POST</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/chat-messages/:task_id/stop</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X POST 'http://wf.zhycit.com/v1/chat-messages/:task_id/stop' \
-H 'Authorization: Bearer {api_key}' \
-H 'Content-Type: application/json' \
--data-raw '{ "user": "abc-123"}'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "result": "success"
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-sky-300 bg-sky-400/10 text-sky-500 dark:ring-sky-400/30 dark:bg-sky-400/10 dark:text-sky-400">POST</span><span class="font-mono text-xs text-zinc-400">/messages/:message_id/feedbacks</span></div><h2 class="mt-2 scroll-mt-32"><a href="#feedbacks" class="no-underline group text-inherit hover:text-inherit">消息反馈（点赞）</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>消息终端用户反馈、点赞，方便应用开发者优化输出预期。</p><h3>Path Params</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>message_id</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>消息 ID</p></dd></dl></li></ul></div><h3>Request Body</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>rating</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>点赞 like, 点踩 dislike,  撤销点赞 null</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li></ul></div><h3>Response</h3><ul>
<li><code>result</code> (string) 固定返回 success</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-sky-500">POST</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/messages/:message_id/feedbacks</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X POST 'http://wf.zhycit.com/v1/messages/:message_id/feedbacks \
--header 'Authorization: Bearer {api_key}' \
--header 'Content-Type: application/json' \
--data-raw '{
    "rating": "like",
    "user": "abc-123"
}'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "result": "success"
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-emerald-300 dark:ring-emerald-400/30 bg-emerald-400/10 text-emerald-500 dark:text-emerald-400">GET</span><span class="font-mono text-xs text-zinc-400">/messages/{message_id}/suggested</span></div><h2 class="mt-2 scroll-mt-32"><a href="#suggested" class="no-underline group text-inherit hover:text-inherit">获取下一轮建议问题列表</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>获取下一轮建议问题列表。</p><h3>Path Params</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>message_id</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>Message ID</p></dd></dl></li></ul></div><h3>Query</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li></ul></div></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-emerald-500 dark:text-emerald-400">GET</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/messages/{message_id}/suggested</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl --location --request GET 'http://wf.zhycit.com/v1/messages/{message_id}/suggested?user=abc-123 \
--header 'Authorization: Bearer ENTER-YOUR-SECRET-KEY' \
--header 'Content-Type: application/json'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "result": "success",
  "data": [
        "a",
        "b",
        "c"
    ]
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-emerald-300 dark:ring-emerald-400/30 bg-emerald-400/10 text-emerald-500 dark:text-emerald-400">GET</span><span class="font-mono text-xs text-zinc-400">/messages</span></div><h2 class="mt-2 scroll-mt-32"><a href="#messages" class="no-underline group text-inherit hover:text-inherit">获取会话历史消息</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>滚动加载形式返回历史聊天记录，第一页返回最新  <code>limit</code> 条，即：倒序返回。</p><h3>Query</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>conversation_id</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>会话 ID</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>first_id</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>当前页第一条聊天记录的 ID，默认 null</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>limit</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">int</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>一次请求返回多少条聊天记录，默认 20 条。</p></dd></dl></li></ul></div><h3>Response</h3><ul>
<li><code>data</code> (array[object])  消息列表</li>
<li><code>id</code>  (string) 消息 ID</li>
<li><code>conversation_id</code> (string)  会话 ID</li>
<li><code>inputs</code> (array[object]) 用户输入参数。</li>
<li><code>query</code>  (string) 用户输入 / 提问内容。</li>
<li><code>message_files</code> (array[object]) 消息文件
<ul>
<li><code>id</code> (string) ID</li>
<li><code>type</code> (string) 文件类型，image 图片</li>
<li><code>url</code> (string) 预览图片地址</li>
<li><code>belongs_to</code> (string) 文件归属方，user 或 assistant</li>
<li><code>agent_thoughts</code> (array[object]) Agent思考内容（仅Agent模式下不为空）
<ul>
<li><code>id</code> (string) agent_thought ID，每一轮Agent迭代都会有一个唯一的id</li>
<li><code>message_id</code> (string) 消息唯一ID</li>
<li><code>position</code> (int) agent_thought在消息中的位置，如第一轮迭代position为1</li>
<li><code>thought</code> (string) agent的思考内容</li>
<li><code>observation</code> (string) 工具调用的返回结果</li>
<li><code>tool</code> (string) 使用的工具列表，以 ; 分割多个工具</li>
<li><code>tool_input</code> (string) 工具的输入，JSON格式的字符串(object)。如：<code>{"dalle3": {"prompt": "a cute cat"}}</code></li>
<li><code>created_at</code> (int) 创建时间戳，如：1705395332</li>
<li><code>message_files</code> (array[string])  当前agent_thought 关联的文件ID
<ul>
<li><code>file_id</code> (string) 文件ID</li>
</ul>
</li>
<li><code>conversation_id</code> (string) 会话ID</li>
</ul>
</li>
</ul>
</li>
<li><code>answer</code> (string)  回答消息内容</li>
<li><code>created_at</code>  (timestamp) 创建时间</li>
<li><code>feedback</code> (object) 反馈信息
<ul>
<li><code>rating</code> (string) 点赞 like / 点踩 dislike</li>
</ul>
</li>
<li><code>retriever_resources</code> (array[RetrieverResource]) 引用和归属分段列表</li>
<li><code>has_more</code> (bool) 是否存在下一页</li>
<li><code>limit</code> (int) 返回条数，若传入超过系统限制，返回系统限制数量</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><h3>Request Example</h3><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-emerald-500 dark:text-emerald-400">GET</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/messages</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X GET 'http://wf.zhycit.com/v1/messages?user=abc-123&amp;conversation_id=' \
--header 'Authorization: Bearer {api_key}'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><h3>Response Example(基础助手)</h3><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
"limit": 20,
"has_more": false,
"data": [
    {
        "id": "a076a87f-31e5-48dc-b452-0061adbbc922",
        "conversation_id": "cd78daf6-f9e4-4463-9ff2-54257230a0ce",
        "inputs": {
            "name": "dify"
        },
        "query": "iphone 13 pro",
        "answer": "The iPhone 13 Pro, released on September 24, 2021, features a 6.1-inch display with a resolution of 1170 x 2532. It is equipped with a Hexa-core (2x3.23 GHz Avalanche + 4x1.82 GHz Blizzard) processor, 6 GB of RAM, and offers storage options of 128 GB, 256 GB, 512 GB, and 1 TB. The camera is 12 MP, the battery capacity is 3095 mAh, and it runs on iOS 15.",
        "message_files": [],
        "feedback": null,
        "retriever_resources": [
            {
                "position": 1,
                "dataset_id": "101b4c97-fc2e-463c-90b1-5261a4cdcafb",
                "dataset_name": "iPhone",
                "document_id": "8dd1ad74-0b5f-4175-b735-7d98bbbb4e00",
                "document_name": "iPhone List",
                "segment_id": "ed599c7f-2766-4294-9d1d-e5235a61270a",
                "score": 0.98457545,
                "content": "\"Model\",\"Release Date\",\"Display Size\",\"Resolution\",\"Processor\",\"RAM\",\"Storage\",\"Camera\",\"Battery\",\"Operating System\"\n\"iPhone 13 Pro Max\",\"September 24, 2021\",\"6.7 inch\",\"1284 x 2778\",\"Hexa-core (2x3.23 GHz Avalanche + 4x1.82 GHz Blizzard)\",\"6 GB\",\"128, 256, 512 GB, 1TB\",\"12 MP\",\"4352 mAh\",\"iOS 15\""
            }
        ],
        "agent_thoughts": [],
        "created_at": 1705569239
    }
  ]
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><h3>Response Example(智能助手)</h3><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
"limit": 20,
"has_more": false,
"data": [
    {
        "id": "d35e006c-7c4d-458f-9142-be4930abdf94",
        "conversation_id": "957c068b-f258-4f89-ba10-6e8a0361c457",
        "inputs": {},
        "query": "draw a cat",
        "answer": "I have generated an image of a cat for you. Please check your messages to view the image.",
        "message_files": [
            {
                "id": "976990d2-5294-47e6-8f14-7356ba9d2d76",
                "type": "image",
                "url": "http://127.0.0.1:5001/files/tools/976990d2-5294-47e6-8f14-7356ba9d2d76.png?timestamp=1705988524&amp;nonce=55df3f9f7311a9acd91bf074cd524092&amp;sign=z43nMSO1L2HBvoqADLkRxr7Biz0fkjeDstnJiCK1zh8=",
                "belongs_to": "assistant"
            }
        ],
        "feedback": null,
        "retriever_resources": [],
        "created_at": 1705988187,
        "agent_thoughts": [
            {
                "id": "592c84cf-07ee-441c-9dcc-ffc66c033469",
                "chain_id": null,
                "message_id": "d35e006c-7c4d-458f-9142-be4930abdf94",
                "position": 1,
                "thought": "",
                "tool": "dalle2",
                "tool_input": "{\"dalle2\": {\"prompt\": \"cat\"}}",
                "created_at": 1705988186,
                "observation": "image has been created and sent to user already, you should tell user to check it now.",
                "message_files": [
                    "976990d2-5294-47e6-8f14-7356ba9d2d76"
                ]
            },
            {
                "id": "73ead60d-2370-4780-b5ed-532d2762b0e5",
                "chain_id": null,
                "message_id": "d35e006c-7c4d-458f-9142-be4930abdf94",
                "position": 2,
                "thought": "I have generated an image of a cat for you. Please check your messages to view the image.",
                "tool": "",
                "tool_input": "",
                "created_at": 1705988199,
                "observation": "",
                "message_files": []
            }
        ]
    }
    ]
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-emerald-300 dark:ring-emerald-400/30 bg-emerald-400/10 text-emerald-500 dark:text-emerald-400">GET</span><span class="font-mono text-xs text-zinc-400">/conversations</span></div><h2 class="mt-2 scroll-mt-32"><a href="#conversations" class="no-underline group text-inherit hover:text-inherit">获取会话列表</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>获取当前用户的会话列表，默认返回最近的 20 条。</p><h3>Query</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>last_id</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>当前页最后面一条记录的 ID，默认 null</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>limit</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">int</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>一次请求返回多少条记录</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>pinned</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">bool</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>只返回置顶 true，只返回非置顶 false</p></dd></dl></li></ul></div><h3>Response</h3><ul>
<li><code>data</code> (array[object]) 会话列表
<ul>
<li><code>id</code>  (string) 会话 ID</li>
<li><code>name</code>  (string) 会话名称，默认为会话中用户最开始问题的截取。</li>
<li><code>inputs</code> (array[object]) 用户输入参数。</li>
<li><code>introduction</code> (string) 开场白</li>
<li><code>created_at</code> (timestamp) 创建时间</li>
</ul>
</li>
<li><code>has_more</code> (bool)</li>
<li><code>limit</code> (int) 返回条数，若传入超过系统限制，返回系统限制数量</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-emerald-500 dark:text-emerald-400">GET</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/conversations</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X GET 'http://wf.zhycit.com/v1/conversations?user=abc-123&amp;last_id=&amp;limit=20'\
--header 'Authorization: Bearer {api_key}'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "limit": 20,
  "has_more": false,
  "data": [
    {
      "id": "10799fb8-64f7-4296-bbf7-b42bfbe0ae54",
      "name": "New chat",
      "inputs": {
          "book": "book",
          "myName": "Lucy"
      },
      "status": "normal",
      "created_at": 1679667915
    },
    {
      "id": "hSIhXBhNe8X1d8Et"
      // ...
    }
  ]
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-rose-200 bg-rose-50 text-red-500 dark:ring-rose-500/20 dark:bg-rose-400/10 dark:text-rose-400">DELETE</span><span class="font-mono text-xs text-zinc-400">/conversations/:conversation_id</span></div><h2 class="mt-2 scroll-mt-32"><a href="#delete" class="no-underline group text-inherit hover:text-inherit">删除会话</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>删除会话。</p><h3>Path</h3><ul>
<li><code>conversation_id</code> (string) 会话 ID</li>
</ul><h3>Request Body</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li></ul></div><h3>Response</h3><ul>
<li><code>result</code> (string) 固定返回 success</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-red-500 dark:text-rose-500">DELETE</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/conversations/:conversation_id</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X DELETE 'http://wf.zhycit.com/v1/conversations/:conversation_id' \
--header 'Authorization: Bearer {api_key}' \
--header 'Content-Type: application/json' \
--data-raw '{ 
 "user": "abc-123"
}'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "result": "success"
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-sky-300 bg-sky-400/10 text-sky-500 dark:ring-sky-400/30 dark:bg-sky-400/10 dark:text-sky-400">POST</span><span class="font-mono text-xs text-zinc-400">/conversations/:conversation_id/name</span></div><h2 class="mt-2 scroll-mt-32"><a href="#rename" class="no-underline group text-inherit hover:text-inherit">会话重命名</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>对会话进行重命名，会话名称用于显示在支持多会话的客户端上。</p><h3>Request Body</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>name</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>名称，若 <code>auto_generate</code> 为 <code>true</code> 时，该参数可不传。</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>auto_generate</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>自动生成标题，默认 false。</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li></ul></div><h3>Response</h3><ul>
<li><code>id</code>  (string) 会话 ID</li>
<li><code>name</code>  (string) 会话名称</li>
<li><code>inputs</code> array[object] 用户输入参数。</li>
<li><code>introduction</code> (string) 开场白</li>
<li><code>created_at</code> (timestamp) 创建时间</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-sky-500">POST</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/conversations/:conversation_id/name</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X POST 'http://wf.zhycit.com/v1/conversations/name' \
--header 'Authorization: Bearer {api_key}' \
--header 'Content-Type: application/json' \
--data-raw '{ 
 "name": "", 
 "user": "abc-123"
}'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "result": "success"
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-sky-300 bg-sky-400/10 text-sky-500 dark:ring-sky-400/30 dark:bg-sky-400/10 dark:text-sky-400">POST</span><span class="font-mono text-xs text-zinc-400">/audio-to-text</span></div><h2 class="mt-2 scroll-mt-32"><a href="#audio" class="no-underline group text-inherit hover:text-inherit">语音转文字</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><h3>Request Body</h3><p>该接口需使用 <code>multipart/form-data</code> 进行请求。</p><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>file</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">file</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>语音文件。
支持格式：<code>['mp3', 'mp4', 'mpeg', 'mpga', 'm4a', 'wav', 'webm']</code>
文件大小限制：15MB</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li></ul></div><h3>Response</h3><ul>
<li><code>text</code> (string) 输出文字</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-sky-500">POST</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/audio-to-text</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X POST 'http://wf.zhycit.com/v1/audio-to-text' \
--header 'Authorization: Bearer {api_key}' \
--form 'file=@localfile;type=audio/[mp3|mp4|mpeg|mpga|m4a|wav|webm]</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "text": "hello"
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-sky-300 bg-sky-400/10 text-sky-500 dark:ring-sky-400/30 dark:bg-sky-400/10 dark:text-sky-400">POST</span><span class="font-mono text-xs text-zinc-400">/text-to-audio</span></div><h2 class="mt-2 scroll-mt-32"><a href="#audio" class="no-underline group text-inherit hover:text-inherit">文字转语音</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>文字转语音。</p><h3>Request Body</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>message_id</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">str</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>Dify 生成的文本消息，那么直接传递生成的message-id 即可，后台会通过 message_id 查找相应的内容直接合成语音信息。如果同时传 message_id 和 text，优先使用 message_id。</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>text</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">str</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>语音生成内容。如果没有传 message-id的话，则会使用这个字段的内容</p></dd></dl></li><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li></ul></div></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-sky-500">POST</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/text-to-audio</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl --location --request POST 'http://wf.zhycit.com/v1/text-to-audio' \
--header 'Authorization: Bearer ENTER-YOUR-SECRET-KEY' \
--form 'text=你好Dify;user=abc-123;message_id=5ad4cb98-f0c7-4085-b384-88c403be6290</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">headers</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "Content-Type": "audio/wav"
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-emerald-300 dark:ring-emerald-400/30 bg-emerald-400/10 text-emerald-500 dark:text-emerald-400">GET</span><span class="font-mono text-xs text-zinc-400">/parameters</span></div><h2 class="mt-2 scroll-mt-32"><a href="#parameters" class="no-underline group text-inherit hover:text-inherit">获取应用配置信息</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用于进入页面一开始，获取功能开关、输入参数名称、类型及默认值等使用。</p><h3>Query</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li></ul></div><h3>Response</h3><ul>
<li><code>opening_statement</code> (string) 开场白</li>
<li><code>suggested_questions</code> (array[string]) 开场推荐问题列表</li>
<li><code>suggested_questions_after_answer</code> (object) 启用回答后给出推荐问题。
<ul>
<li><code>enabled</code> (bool) 是否开启</li>
</ul>
</li>
<li><code>speech_to_text</code> (object) 语音转文本
<ul>
<li><code>enabled</code> (bool) 是否开启</li>
</ul>
</li>
<li><code>retriever_resource</code> (object) 引用和归属
<ul>
<li><code>enabled</code> (bool) 是否开启</li>
</ul>
</li>
<li><code>annotation_reply</code> (object) 标记回复
<ul>
<li><code>enabled</code> (bool) 是否开启</li>
</ul>
</li>
<li><code>user_input_form</code> (array[object]) 用户输入表单配置
<ul>
<li><code>text-input</code> (object) 文本输入控件
<ul>
<li><code>label</code> (string) 控件展示标签名</li>
<li><code>variable</code> (string) 控件 ID</li>
<li><code>required</code> (bool) 是否必填</li>
<li><code>default</code> (string) 默认值</li>
</ul>
</li>
<li><code>paragraph</code> (object) 段落文本输入控件
<ul>
<li><code>label</code> (string) 控件展示标签名</li>
<li><code>variable</code> (string) 控件 ID</li>
<li><code>required</code> (bool) 是否必填</li>
<li><code>default</code> (string) 默认值</li>
</ul>
</li>
<li><code>select</code> (object) 下拉控件
<ul>
<li><code>label</code> (string) 控件展示标签名</li>
<li><code>variable</code> (string) 控件 ID</li>
<li><code>required</code> (bool) 是否必填</li>
<li><code>default</code> (string) 默认值</li>
<li><code>options</code> (array[string]) 选项值</li>
</ul>
</li>
</ul>
</li>
<li><code>file_upload</code> (object) 文件上传配置
<ul>
<li><code>image</code> (object) 图片设置
当前仅支持图片类型：<code>png</code>, <code>jpg</code>, <code>jpeg</code>, <code>webp</code>, <code>gif</code>
<ul>
<li><code>enabled</code> (bool) 是否开启</li>
<li><code>number_limits</code> (int) 图片数量限制，默认 3</li>
<li><code>transfer_methods</code> (array[string]) 传递方式列表，remote_url , local_file，必选一个</li>
</ul>
</li>
</ul>
</li>
<li><code>system_parameters</code> (object) 系统参数
<ul>
<li><code>image_file_size_limit</code> (string) 图片文件上传大小限制（MB）</li>
</ul>
</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0 xl:sticky xl:top-24"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-emerald-500 dark:text-emerald-400">GET</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/parameters</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"> curl -X GET 'http://wf.zhycit.com/v1/parameters'\
--header 'Authorization: Bearer {api_key}'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "introduction": "nice to meet you",
  "user_input_form": [
    {
      "text-input": {
        "label": "a",
        "variable": "a",
        "required": true,
        "max_length": 48,
        "default": ""
      }
    },
    {
      // ...
    }
  ],
  "file_upload": {
    "image": {
      "enabled": true,
      "number_limits": 3,
      "transfer_methods": [
        "remote_url",
        "local_file"
      ]
    }
  }
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div>
<hr>
<div class="flex items-center gap-x-3"><span class="font-mono text-[0.625rem] font-semibold leading-6 rounded-lg px-1.5 ring-1 ring-inset ring-emerald-300 dark:ring-emerald-400/30 bg-emerald-400/10 text-emerald-500 dark:text-emerald-400">GET</span><span class="font-mono text-xs text-zinc-400">/meta</span></div><h2 class="mt-2 scroll-mt-32"><a href="#meta" class="no-underline group text-inherit hover:text-inherit">获取应用Meta信息</a></h2>
<div class="grid items-start grid-cols-1 gap-x-16 gap-y-10 xl:max-w-none xl:grid-cols-2"><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用于获取工具icon</p><h3>Query</h3><div class="my-6"><ul role="list" class="m-0 max-w-[calc(theme(maxWidth.lg)-theme(spacing.8))] list-none divide-y divide-zinc-900/5 p-0 dark:divide-white/5"><li class="px-0 py-4 m-0 first:pt-0 last:pb-0"><dl class="flex flex-wrap items-center m-0 gap-x-3 gap-y-2"><dt class="sr-only">Name</dt><dd><code>user</code></dd><dt class="sr-only">Type</dt><dd class="font-mono text-xs text-zinc-400 dark:text-zinc-500">string</dd><dt class="sr-only">Description</dt><dd class="w-full flex-none [&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><p>用户标识，由开发者定义规则，需保证用户标识在应用内唯一。</p></dd></dl></li></ul></div><h3>Response</h3><ul>
<li><code>tool_icons</code>(object[string]) 工具图标
<ul>
<li><code>工具名称</code> (string)
<ul>
<li><code>icon</code> (object|string)
<ul>
<li>(object) 图标
<ul>
<li><code>background</code> (string) hex格式的背景色</li>
<li><code>content</code>(string) emoji</li>
</ul>
</li>
<li>(string) 图标URL</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul></div><div class="[&amp;>:first-child]:mt-0 [&amp;>:last-child]:mb-0"><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Request</h3></div><div class="group dark:bg-white/2.5"><div class="flex h-9 items-center gap-2 border-y border-t-transparent border-b-white/7.5 bg-zinc-900 bg-white/2.5 px-4 dark:border-b-white/5 dark:bg-white/1"><div class="flex dark"><span class="font-mono text-[0.625rem] font-semibold leading-6 text-sky-500">POST</span></div><span class="h-0.5 w-0.5 rounded-full bg-zinc-500"></span><span class="font-mono text-xs text-zinc-400">/meta</span></div><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white">curl -X GET 'http://wf.zhycit.com/v1/meta?user=abc-123' \
-H 'Authorization: Bearer {api_key}'</pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div><div class="my-6 overflow-hidden shadow-md not-prose rounded-2xl bg-zinc-900 dark:ring-1 dark:ring-white/10"><div class="flex min-h-[calc(theme(spacing.12)+1px)] flex-wrap items-start gap-x-4 border-b border-zinc-700 bg-zinc-800 px-4 dark:border-zinc-800 dark:bg-transparent"><h3 class="pt-3 mr-auto text-xs font-semibold text-white">Response</h3></div><div class="group dark:bg-white/2.5"><div class="relative"><pre class="p-4 overflow-x-auto text-xs text-white"><pre><code class="language-json">{
  "tool_icons": {
      "dalle2": "https://cloud.dify.ai/console/api/workspaces/current/tool-provider/builtin/dalle/icon",
      "api_tool": {
          "background": "#252525",
          "content": "😁"
      }
  }
}
</code></pre></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="w-5 h-5 transition-colors fill-zinc-500/20 stroke-zinc-500 group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-emerald-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div></div></div></article></div></div></div>
